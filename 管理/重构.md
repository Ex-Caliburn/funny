# 重构

## 前言

我经历了一次重构，我从中收获了什么呢

## 总结

1. 这次重构我们是有很多人的，但是架子的搭建是一个人，这个点是很好，确立好风格，然后大家都按照他的风格来，所以这个架构搭建者必须是组里的code大师
2. 需要公共文档，记录功能要点和当时的背景，方便回溯
3. 重构不是重写，两个概念不一样，重构的动机是什么，重构的效果如何，如何量化效果。
4. 项目速度优化，量化指标
5. 规则大于约定，引入eslint，ts，git-flow，prettiec
6. 搭建自己的组件库，我们这多人一直在写，有没有自己的沉淀的工具和组件库
7. 组件颗粒化的程度，自由度和约束把控
8. 关于交互，我们学习行业内大厂的设计
   1. 有人说好的体验是让用户变懒，但是我们得培养用户好的习惯（有没有打破你认知的操作，苹果点击两次后背，截屏，或者自定义操作，唤起Safari等）
   2. 对于2b网站，左右布局，会比上下布局更加节约空间，而且如果有子菜单，抽屉栏，从左到右到右更符合人的阅读习惯
   3. 我们的目标，提高老师的效率，减少操作路径，虽然会带来复杂度，像苹果4s一样，就一个按钮，完成了很多功能，这个创新是前所未有的
   4. 而是提取最重要的功能展示在前面，一些功能不应该抢占我们的大脑和注意力，放在二级菜单
   5. 对用户的操作即时反馈，hover 效果，按压效果，变色啊，各种交互后提示
   6. 减少用户在刷新页面时的焦虑状态，loading动画，骨架图，页面渲染提速
   7. 在一些操作旁边必要的提示
   8. 一些操作需二次确认，如删除，下架
   9. 记录用户的上一次操作，如多个筛选条件，进入到详情页再回来还是这个筛选条件，或者推出登录，回来也是一样
   10. 设置快捷键，我们为了老师方便点评学员，ctrl+> 方向键可以快速切换下一个学员，换行可以快速提交点评，这一系列的操作可以不需要鼠标
   11. 用户是最了解你产品的人，方便用户提出问题，大多数人遇到问题，并不会提交，所以提交的良好的反馈也是重要的

### 设计原则

- 原则一：不要让用户思考
- 原则二： 别仅限于视觉呈现
    当我从家庭主厨上看到美味的食物图片时，我想查看食谱。要做到这一点，我必须去查看主厨的Instagram个人资料，点击她博客的链接，然后在她的博客上查找食谱。如果有一个可点击链接，这会容易很多吗不是吗？
- 原则3 - 让你的用户参与产品设计流程
- 原则4 - 保持产品设计的一致性
- 原则5 - 让你的设计适用于所有人

### 参考文献

1. <https://juejin.cn/post/6844903622531088398>
