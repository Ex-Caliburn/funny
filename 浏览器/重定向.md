# 重定向

## 前言

到这里似乎请求流程快结束了，不过还有一种情况你需要了解下，比如当你在浏览器中打开 geekbang.org 后，你会发现最终打开的页面地址是 <https://www.geekbang.org>。

这两个 URL 之所以不一样，是因为涉及到了一个重定向操作。跟前面一样，你依然可以使用 curl 来查看下请求 geekbang.org 会返回什么内容？在控制台输入如下命令：

    curl -I geekbang.org

注意这里输入的参数是-I，和-i不一样，-I表示只需要获取响应头和响应行数据，而不需要获取响应体的数据，最终返回的数据如下图所示：

![alt]([https://link](https://static001.geekbang.org/resource/image/28/43/28d5796c6ab7faa619ed8f1bd17b0843.jpg))

从图中你可以看到，响应行返回的状态码是 301，状态 301 就是告诉浏览器，我需要重定向到另外一个网址，而需要重定向的网址正是包含在响应头的 Location 字段中，接下来，浏览器获取 Location 字段中的地址，并使用该地址重新导航，这就是一个完整重定向的执行流程。这也就解释了为什么输入的是 geekbang.org，最终打开的却是 <https://www.geekbang.org> 了。不过也不要认为这种跳转是必然的。如果你打开 <https://12306.cn>，你会发现这个站点是打不开的。这是因为 12306 的服务器并没有处理跳转，所以必须要手动输入完整的 <https://www.12306.cn> 才能打开页面。

```js
curl -I http://12306.cn

HTTP/1.1 302 Moved Temporarily
Date: Sat, 22 May 2021 04:33:07 GMT
Content-Length: 0
Connection: keep-alive
Server: Cdn Cache Server V2.0
Location: http://www.12306.cn/
X-Via: 1.0 PS-ZUH-01cM223:12 (Cdn Cache Server V2.0)
X-Ws-Request-Id: 60a88983_PS-ZUH-01hlA24_32149-48702
```

## 总结

### 参考文献
