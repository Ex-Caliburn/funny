# git仓库

## 前言

### 演变历史

1. 本地版本控制系统
2. 集中版本控制系统
3. 分布式版本控制系统

这就是分布式版本控制系统 (DVCS) 的用武之地。在 DVCS（例如 Git、Mercurial、Bazaar 或 Darcs）中，客户端不仅仅查看文件的最新快照；相反，它们完全镜像存储库，包括其完整历史记录。因此，如果任何服务器死亡，并且这些系统通过该服务器进行协作，则可以将任何客户端存​​储库复制回服务器以恢复它。每个克隆实际上都是所有数据的完整备份。

此外，这些系统中的许多系统都可以很好地处理它们可以使用的多个远程存储库，因此您可以在同一个项目中以不同的方式同时与不同的人群协作。这允许您设置集中式系统中无法实现的多种类型的工作流，例如分层模型。

### Git具有完整性

Git 中的所有内容在存储之前都经过校验和，然后由该校验和引用。这意味着不可能在 Git 不知道的情况下更改任何文件或目录的内容。此功能在最低级别内置于 Git 中，并且是其理念不可或缺的一部分。你不能在传输过程中丢失信息或文件损坏，而 Git 无法检测到它。

Git 用于此校验和的机制称为 SHA-1 哈希。这是一个 40 个字符的字符串，由十六进制字符（0-9 和 a-f）组成，并根据 Git 中的文件或目录结构的内容计算得出。SHA-1 哈希看起来像这样：

24b9da6552252987aa493b52f8696cd6d3b00373
你会在 Git 中到处看到这些哈希值，因为它使用它们太多了。事实上，Git 不是通过文件名而是通过其内容的哈希值将所有内容存储在其数据库中。

### 仓库

三种状态

- 修改： 你已经修改了文件，但是没有提交到数据库

- 暂存： 您已将修改后的文件标记为当前版本以进入下一个提交快照。

- 提交：已提交意味着数据安全地存储在您的本地数据库中。

![alt](https://git-scm.com/book/en/v2/images/areas.png)

工作区
stage（或者叫index）的暂存区
git 目录
远程 git 目录

- 工作区是项目一个版本的单次签出。这些文件是从Git目录下的压缩数据库中拉出来放在磁盘上供你使用或修改的。
- 暂存区是一个文件，通常包含在您的 Git 目录中，用于存储有关下一次提交内容的信息。它在 Git 用语中的技术名-称是“索引”，但短语“暂存区”也同样适用。
- Git 目录是 Git 为您的项目存储元数据和对象数据库的地方。这是 Git 最重要的部分，它是您从另一台计算机克隆存储库时复制的内容。

## 总结

快速复习

git help 很详细
git -h 简单版
git add -h  命令的可用选项

### 参考文献

1. <https://git-scm.com/book/en/v2/Getting-Started-About-Version-Control>
