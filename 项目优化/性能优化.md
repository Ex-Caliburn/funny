# 性能优化

## 前言

### 首屏渲染

1. 服务端渲染
2. 关键css，字体，js preload，预加载，提高优先级
3. js，css资源文件压缩，uglyify，雪碧图，图片压缩内联，转化图片的格式为 WEBP（safari不支持） 等等的格式
4. vue路由懒加载
5. 第三模块抽离出chunk，单独打包
6. js，css，和音视频 资源文件放在CDN
7. 图片懒加载
8. 减少非必要请求，合并请求
9. service worker pwa 的 实现基础，和处理大计算量的任务
10. webassembly

### 服务端渲染缺点

对于距离服务端远，或者服务端处理时间较长的场景，用户会看到较长时间的白屏。而且即使 html 返回完成了，用户并不会立即看到内容，页面还需要加载前置的 js，css 等资源后，才能看到内容

### http协议

1. 服务端开启gzip
2. 浏览器缓存机制
3. 使用http2协议，不用多个域名加载，没有同一个域名6-8个TCP链接限制
4. 使用 preconnect 尽快与服务器建立链接、使用 dns-prefetch 尽快进行 DNS 查找

### 代码层次

1. stylelint，eslint，prettier，代码风格统一，配置大于约定
2. 样式遵循 BEM 规范
3. 防抖和截流
4. 错误捕获机制，上报系统

### 性能工具

1. webpack-bundle-analyzer
2. lighthouse
3. <https://developers.google.com/speed/pagespeed/insights/?url=https%3A%2F%2Fbushu.jingdaka.com%2Fjdk10086%2Flogin>

## 总结

### 参考文献
