# 压力测试

## 前言

Web开发，少不了的就是压力测试，它是评估一个产品是否合格上线的基本标准。

ab是一种用于测试Apache超文本传输协议（HTTP）服务器的工具。apache自带ab工具，可以测试Apache、IIS、Tomcat、Nginx等Web服务器，因为apache是跨平台的，所以在Mac、Linux、Windows等系统下，只要安装了apache就能使用ab工具。

Ubuntu系统安装测试工具：sudo apt-get install apache2-utils

CentOS系统安装测试工具：yum -y install httpd-tools

Windows系统Apache下载地址：<https://www.apachehaus.com/cgi-bin/download.plx>

mac自带的apache中的ab是有最大并发限制的，您可以重新下载一个[apache](https://xushanxiang.com/2019/10/mac-web-ab.html)并且编译（可以参考这篇[文章](http://httpd.apache.org/download.cgi#apache24)），安装之前记得卸载原来的哦。

Mac下自带apache，查看版本：

    apachectl -v
    Server version: Apache/2.4.34 (Unix)
    Server built:   Feb 22 2019 20:20:11

例如：

    ab -c 并发数 -n 请求数 URL

    ab工具常用参数：
    -n ：总共的请求执行数，缺省是1；
    -c： 并发数，缺省是1；
    -t：测试所进行的总时间，秒为单位，缺省50000s
    -p：POST时的数据文件
    -w: 以HTML表的格式输出结果

    ab -n 100 -c 10 -w http://www.baidu.com/ >> baidu.html

## 总结

### 参考文献

1. <https://www.cnblogs.com/liuyu2014/p/11855681.html>
2. <http://httpd.apache.org/download.cgi#apache24>
3. <https://www.jianshu.com/p/a7ee2ffb5c0f>
